var i=class{constructor(){this.toastQueue=[],this.time=performance.now(),this.loop()}loop(){let s=performance.now(),t=(s-this.time)/1e3;this.time=s;for(let e=this.toastQueue.length-1;e>=0;e--)this.toastQueue[e].duration-=t,this.toastQueue[e].duration<=0&&(this.toastQueue[e].el.isConnected&&this.toastQueue[e].el.remove(),this.toastQueue.splice(e,1));window.requestAnimationFrame(this.loop.bind(this))}push(s){let t=Object.assign({message:"Toast notificaitons require a message",el:null,duration:5,classes:[]},s);(t.duration===1/0||typeof t.duration!="number")&&(console.warn("Toast duration must be a number"),t.duration=5),Array.isArray(t.classes)||(t.classes=[t.classes]);let e=document.createElement("output");e.role="status",e.innerHTML=t.message,t.classes.length&&e.classList.add(...t.classes),t.el=e,t.el.addEventListener("click",()=>{t.el.remove(),this.toastQueue.splice(this.toastQueue.indexOf(t),1)}),this.toastQueue.push(t),this.flip(e)}flip(s){let t=this.getShell(),e=t.offsetHeight;t.appendChild(s);let o=t.offsetHeight-e,a=t.animate([{transform:`translateY(${o}px)`},{transform:"translateY(0)"}],{duration:150,easing:"ease-out"});a.startTime=document.timeline.currentTime}getShell(){let s=document.body.querySelector("toaster-component")||document.createElement("toaster-component");return s.isConnected||document.body.appendChild(s),s}},n=new i,u=n;export{u as default};
