var o=class{constructor(){this.toastQueue=[],this.time=performance.now(),this.loop()}loop(){let s=performance.now(),t=(s-this.time)/1e3;if(this.time=s,document.hasFocus())for(let e=this.toastQueue.length-1;e>=0;e--)this.toastQueue[e].duration-=t,this.toastQueue[e].duration<=0&&(this.toastQueue[e].el.remove(),this.toastQueue.splice(e,1));window.requestAnimationFrame(this.loop.bind(this))}push(s){let t=Object.assign({message:"Toast notificaitons require a message",el:null,duration:30,classes:[]},s);(t.duration===1/0||typeof t.duration!="number")&&(console.warn("Toast duration must be a number"),t.duration=30),Array.isArray(t.classes)||(t.classes=[t.classes]);let e=document.createElement("output");e.role="status",e.innerHTML=t.message,e.classList.add(t.classes),t.el=e,this.toastQueue.push(t),this.getShell().appendChild(t.el)}getShell(){let s=document.body.querySelector("toaster-component")||document.createElement("toaster-component");return s.isConnected||document.body.appendChild(s),s}},i=new o,r=i;export{r as default};
