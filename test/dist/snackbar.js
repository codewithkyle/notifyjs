var n=class{constructor(){this.snackbarQueue=[],this.time=performance.now(),this.loop()}loop(){let s=performance.now(),t=(s-this.time)/1e3;this.time=s,document.hasFocus()&&this.snackbarQueue.length&&(this.snackbarQueue?.[0]?.el||(this.snackbarQueue[0].el=new a(this.snackbarQueue[0]),document.body.appendChild(this.snackbarQueue[0].el)),this.snackbarQueue[0]?.duration&&this.snackbarQueue[0]?.duration!==1/0&&this.snackbarQueue[0]?.el?.isConnected&&(this.snackbarQueue[0].duration-=t,this.snackbarQueue[0].duration<=0&&(this.snackbarQueue[0].el.remove(),this.snackbarQueue.splice(0,1)))),window.requestAnimationFrame(this.loop.bind(this))}snackbar(s){let t=Object.assign({message:"Snackbar notificaitons require a message",el:null,duration:30,closeable:!0,buttons:[],force:!0,classes:[],autofocus:!0},s);Array.isArray(t.buttons)||(t.buttons=[t.buttons]),Array.isArray(t.classes)||(t.classes=[t.classes]),t.force&&this.snackbarQueue.length?(this.snackbarQueue[0]?.el?.isConnected&&this.snackbarQueue[0].el.remove(),this.snackbarQueue.splice(0,1,t)):this.snackbarQueue.push(t)}},a=class extends HTMLElement{constructor(t){super();this.handleActionButtonClick=t=>{let e=t.currentTarget,i=parseInt(e.dataset.index);this.settings.buttons[i].callback(),this.remove()};this.handleCloseClickEvent=()=>{this.remove()};this.settings=t,this.render()}render(){for(let e=0;e<this.settings.classes.length;e++)this.classList.add(this.settings.classes[e]);this.innerHTML=`
            <p role="${this.settings.closeable||this.settings.buttons.length?"alertdialog":"alert"}">${this.settings.message}</p>
            ${this.settings.closeable||this.settings.buttons.length?`
                <snackbar-actions>
                    ${this.settings.buttons.map((e,i)=>`<button ${e?.ariaLabel?`aria-label="${e.ariaLabel}"`:""} data-index="${i}" class="${e.classes?.join(" ")}">${e.label}</button>`)}
                    ${this.settings.closeable?`
                        <button aria-label="close notification" class="close js-snackbar-close">
                            <svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg>
                        </button>
                    `:""}
                </snackbar-actions>
            `:""}
        `,this.querySelectorAll("button[data-index]").forEach(e=>{e.addEventListener("click",this.handleActionButtonClick)});let t=this.querySelector(".close");t&&t.addEventListener("click",this.handleCloseClickEvent)}connectedCallback(){if(this.settings.autofocus){let t=this.querySelector(".js-snackbar-close");t&&(document.activeElement.blur(),t.focus())}if(this.settings.buttons.length){for(let t=0;t<this.settings.buttons.length;t++)if(this.settings.buttons[t]?.autofocus){let e=this.querySelector(`button[data-index="${t}"]`);if(e){document.activeElement.blur(),e.focus();break}}}}};customElements.get("snackbar-component")||customElements.define("snackbar-component",a);var c=new n,r=c.snackbar.bind(c),l=r;export{l as default};
